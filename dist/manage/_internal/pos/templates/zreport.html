<!DOCTYPE html>
<html>
<head>
  <meta charset="UTF-8">
  <title>Report</title>
  
  <style>
    body {
      width: 302px; /* ~80mm */
      font-family: 'Courier New', monospace;
      background: #fff;
      padding: 8px;
      font-size: 11.5px;
      line-height: 1.4em;
      color: #000;
    }

    .center {
      text-align: center;
    }

    .section {
      margin: 8px 0;
    }

    .line {
      border-top: 1px dashed #333;
      margin: 6px 0;
    }

    h2, h3, h4 {
      margin: 4px 0;
      font-size: 14px;
      font-weight: bold;
    }

    strong {
      font-weight: bold;
    }

    table {
      width: 100%;
      border-collapse: collapse;
      table-layout: fixed;
    }

    td, th {
      padding: 2px 0;
      word-wrap: break-word;
    }

    td:first-child, th:first-child {
      text-align: left;
    }

    td:nth-child(2), td:nth-child(3),
    th:nth-child(2), th:nth-child(3) {
      text-align: right;
    }
  </style>
</head>
<body>

<div class="center">
  <h2>{{ company.name }}</h2>
  <p>TIN No: {{ company.tin_number }}</p>
  <p>VAT No: {{ company.vat_number }}</p>
  <p>{{ company.address }}</p>
  <p>{{ company.email }}</p>
  <p>{{ company.phone }}</p>
</div>

<div class="line"></div>
{%if is_open%}
<div class="center"><h3>X REPORT</h3></div>
{%else%}
<div class="center"><h3>Z REPORT</h3></div>
{%endif%}
<div class="line"></div>

<div class="section">
  <strong>Fiscal day No:</strong> {{ day.day_no }}<br>
  <strong>Opened:</strong> {{ day.opened }}<br>
  <strong>Closed:</strong> {{ day.closed }}<br>
  <strong>Serial No:</strong> {{ fiscal.device_serial }}<br>
  <strong>Device Id:</strong> {{ fiscal.device_id }}<br>
</div>

{% for counter in counters %}
<div class="section">
  <h4>{{ counter.currency }}</h4>

  <div class="line"></div>
  <strong>Total Net Sales</strong>
  <table>
    <tr><td>Net VAT 15%</td><td>{{ counter.net15|floatformat:2 }}</td></tr>
    <tr><td>Net VAT 0%</td><td>{{ counter.net0|floatformat:2  }}</td></tr>
    <tr><td>Net Exempt</td><td>{{ counter.netEx|floatformat:2  }}</td></tr>
    <tr><td><strong>Total Net</strong></td><td><strong>{{ counter.totalNet|floatformat:2  }}</strong></td></tr>
  </table>

  <div class="line"></div>
  <strong>Total Taxes</strong>
  <table>
    <tr><td>Tax 15%</td><td>{{ counter.Tax|floatformat:2  }}</td></tr>
    <tr><td><strong>Total Tax</strong></td><td><strong>{{ counter.totalTax }}</strong></td></tr>
  </table>

  <div class="line"></div>
  <strong>Total Gross Sales</strong>
  <table>
    <tr><td>Gross VAT 15%</td><td>{{ counter.gross15|floatformat:2  }}</td></tr>
    <tr><td>Gross VAT 0%</td><td>{{ counter.gross0|floatformat:2  }}</td></tr>
    <tr><td>Gross Exempt</td><td>{{ counter.grossEx|floatformat:2  }}</td></tr>
    <tr><td><strong>Total Gross</strong></td><td><strong>{{ counter.grossTotal|floatformat:2  }}</strong></td></tr>
  </table>

  <div class="line"></div>
  <strong>Documents</strong>
  <table>
    {% if counter.currency == "USD" %}
    <tr><td>Invoices</td><td>{{ counter.no_of_receipts_usd }}</td><td>{{ counter.grossTotal|floatformat:2  }}</td></tr>
    <tr><td>Credits</td><td>{{ counter.no_of_credits_usd }}</td><td>{{ counter.creditTotal|floatformat:2  }}</td></tr>
    <tr><td><strong>Total</strong></td><td><strong>{{ counter.total_documents_usd }}</strong></td><td><strong>{{ counter.total_amount|floatformat:2  }}</strong></td></tr>
    {% else %}
    <tr><td>Invoices</td><td>{{ counter.no_of_receipts_zwl }}</td><td>{{ counter.grossTotal|floatformat:2  }}</td></tr>
    <tr><td>Credits</td><td>{{ counter.no_of_credits_zwl }}</td><td>{{ counter.creditTotal|floatformat:2  }}</td></tr>
    <tr><td><strong>Total</strong></td><td><strong>{{ counter.total_documents_zwl }}</strong></td><td><strong>{{ counter.total_amount|floatformat:2  }}</strong></td></tr>
    {% endif %}
  </table>
  <div class="line"></div>
</div>
{% endfor %}

</body>
</html>
